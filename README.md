Python-скрипт для подключения к MeshCore-ноде по bluetooth/tcp и обработке входящих сообщений. Также умеет пересылать сообщения из внешней системы в mesh-сеть.

Благодаря поддержке сторонних коллбэков из внешнего файла может использоваться в качестве основы для бота.

Функционал:
- Пересылка сообщений между Mesh и внешней системой;
- Ответ на полученные сообщения указанным текстом, либо количеством хопов + SNR ноды. Можно использовать как подтверждение доставки;
- Умеет слать ответное сообщение только если входящее совпадает с регулярным выражением;
- Поддерживает сторонние коллбэки на событие получения сообщения (полезно для создания ботов);
- Поддерживает множественные конфигурации, для каждого канала назначается свой конфиг с возможностью указать различающиеся модули с коллбэками, и назначить свою логику реакций.

Как работать:
1) pip install meshcore
2) pip install meshcore-cli
3) связать ноду с ПК по bluetooth, если используется этот вид подключения
4) выполнить первый запуск скрипта (start.bat или командой "python ./meshcore_bot.py") для создания шаблонного конфиг-файла «meshcore_config.json». Необходимо настроить его под себя, описание параметров можно посмотреть в «meshcore_bot.py»
5) узнать ble-адрес устройства - выполнить в терминале «meshcore-cli -S». Для подключения по tcp нужно узнать IP вашей ноды - например, в веб-интерфейсе роутера
6) переписать адрес нужного устройства в конфиг, закрыть предыдущий экземпляр скрипта, если он не завершился сам, затем заново запустить его. Будет произведено подключение к ноде и запущены обработчики для настроенных в конфиг-файле каналов. Если используется tcp-подключение - оставить в конфиг-файле BLE_ADDRESS пустым, или переименовать в нём сам параметр (например, в BLE_ADDRESS__bkp)

5.1) возможна проблема, когда при перезапуске скрипта не удается возобновить соединение с нодой - в таком случае необходимо физически переподключить bluetooth-адаптер на ПК, либо попробовать воспользоваться скриптом ./utils/restart-bt-win.py, заменив в нём имя bluetooth-адаптера на действительное

5.2) известна проблема, когда нода не выводит в ответном сообщении SNR - такое происходит в случае, если нода была перезапущена и первое подключение к ней происходило с ПК - из-за этого нода устанавливает пониженную версию протокола до следующей своей перезагрузки. В этом случае необходимо перезагрузить ноду, подключиться к ней с телефона, отключиться, затем подключаться с ПК и работать.
